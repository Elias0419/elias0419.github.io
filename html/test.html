<body>
    <canvas id="flying_canvas" width="800" height="800"></canvas>
    <script>
          class FlyingCanvas {
            constructor(canvas_id, side_length) {
                this.canvas = document.getElementById(canvas_id);
                this.canvas.addEventListener('click', this.dropBox, false);
                this.ctx = this.canvas.getContext("2d");

                this.last_time_stamp = 0;
                this.x_speed = 400;
                this.x_acceleration = -200;
                this.y_acceleration = 600;

                this.side_length = side_length;
                this.size_increase = side_length * .08;

                this.box_y = this.start_y = this.canvas.height * 0;
                this.box_x = this.start_x = (this.canvas.width - this.side_length) / 2;

                this.draw();
            }

            draw = () => {
                this.ctx.fillStyle = "LightSkyBlue";
                this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);

                this.ctx.fillStyle = 'purple';
                this.ctx.fillRect(this.box_x, this.box_y, this.side_length, this.side_length);
            }

            dropBox = (timestamp) => {
                if (this.box_y + this.side_length > this.canvas.height) { return; }

                let seconds = (timestamp) / 1000 - 1;
                if (isNaN(seconds)) { seconds = 0 };
                let seconds_passed = seconds - this.last_time_stamp;
                this.last_time_stamp = seconds;

                this.draw();

                this.box_y = this.start_y + .5 * this.y_acceleration * seconds**2;
                this.x_speed = Math.max(0, this.x_speed + this.x_acceleration * seconds_passed);
                this.box_x += this.x_speed * seconds_passed;

                this.side_length += this.size_increase;
                this.size_increase *= .95;

                window.requestAnimationFrame(this.dropBox);
            }
        }

        fc = new FlyingCanvas('flying_canvas', 50);
    </script>
</body>
